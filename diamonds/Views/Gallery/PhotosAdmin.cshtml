@model Diamonds.Models.Entities.Gallery
@{
    ViewBag.Title = "Zdjęcia";
}

@section Scripts {
@*<script src=@Url.Content("~/Scripts/jquery.fancybox.pack.js")></script>
<link href=@Url.Content("~/Content/jquery.fancybox.css") rel="stylesheet" />*@
@Scripts.Render("~/bundles/fancybox")
@Styles.Render("~/Content/fancybox")
<script type="text/javascript">
    $(document).ready(function () {
        $(".fancybox").fancybox();
        $(".delete").click(function (e) {
            if (!confirm("Na pewno chcesz usunąć zdjęcie?")) {
                return false;
            }
        });
    });
</script>
}

@Html.Partial("_NavigationBar", new Diamonds.Models.NavigationModel("Gallery", "Lista Zdjęć", "MODERATOR", "AddPhotos/" + Model.id))

<fieldset>
    <legend>Administracja zdjęciami</legend>

    <table class="purple">
        <tr>
            <th>zdjęcie</th>
            <th>opis</th>
            <th></th>
        </tr>
        @foreach (var photo in Model.Photos)
        {
        <tr>
            <td>
            @if (photo.hasThumb)
            {
            <a href="@Url.Action("Photo", new { id = photo.id })" class="fancybox" rel="group">
                <img src="@Url.Action("Photo", new { id = photo.id, size = "small" })" style="width:150px;" />
            </a>
            }
            </td>
            <td>@photo.descriptionPl<br />@photo.descriptionEn</td>
            <td>
                <a href="@Url.Action("PhotoEdit", new { id = photo.id })">@ViewBag.Lang["admin-edit"]</a>
                <a href="@Url.Action("PhotoDelete", new { id = photo.id})" class="delete">@ViewBag.Lang["admin-delete"]</a>
            </td>
        </tr>
        }

    </table>
</fieldset>