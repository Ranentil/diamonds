@model IEnumerable<Diamonds.Models.Entities.Gallery>
@{
    ViewBag.Title = "Galerie zdjęć";
}

@section scripts{
}

@Html.Partial("_NavigationBar", new Diamonds.Models.NavigationModel("Gallery", "Lista", "MODERATOR"))

<fieldset>
    <legend>Administracja galeriami</legend>

    <table class="purple">
        <tr>
            <th>zdjęcie</th>
            <th>nazwa</th>
            <th>miejsce</th>
            <th>początek</th>
            <th>koniec</th>
            <th>aktywny</th>
            <th></th>
        </tr>
        @foreach (var gallery in Model)
        {
        <tr>
            <td>
            @if (gallery.Cover != null)
            {
            <a href="@Url.Action("PhotosAdmin", new { id = gallery.id })">
                <img src="@Url.Action("Photo", new { id = gallery.coverId, size = "small" })" />
            </a>
            }
            </td>
            <td>@gallery.namePl<br />@gallery.nameEn</td>
            <td>@gallery.placePl<br />@gallery.placeEn</td>
            <td>
                @gallery.startDate.ToShortDateString()<br />
                @(gallery.endDate != null ? ((DateTime)gallery.endDate).ToShortDateString() : "")
            </td>
            <td>@Html.CheckBox("isPublished", gallery.isPublished, new { disabled = "disabled" })</td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id = gallery.id })
                @Html.ActionLink("Pokaż zdjęcia", "PhotosAdmin", new { id = gallery.id })
                @Html.ActionLink("Dodaj zdjęcia", "AddPhotos", new { id = gallery.id})
            </td>
        </tr>
        }

    </table>
</fieldset>